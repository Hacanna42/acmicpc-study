- 널 안정성에 대해 알아보기
- 널 객체 패턴에 대해 알아보기



> 새 스마트폰을 사려고 한다고 상상해보자. 전자제품 매장의 점원은 빛나는 새 폰이 들어 있는 밀봉된 박스를 내어줄 것이다. 집에 가서 셀로판지를 뜯고 박스를 열었는데 안에 아무것도 없다. 이것은 예상을 벗어난 황당무계한 일이다. 널 객체 패턴을 사용하는 방법을 주의하지 않으면 이런 말도 안되는 가상의 시나리오와 비슷해질 수 있다.


- CoffeeMug 클래스의 예시도 결국엔 예외 상황을 숨기는 것이 예상을 벗어나는 동작을 유발할 수 있음을 보여주고 있다.


- 이 책에서 말하는 모든 예시는 "내가 작성한 클래스, 코드를 호출하는 입장에서 생각해보기" 로 모두 추론할 수 있는 것 같다.
- 오브젝트 책에서 말했던 클래스 작성자와, 클라이언트 프로그래머로 구분해서 코딩하기도 비슷한 말인 것 같다.
- 입력 매개변수를 수정하는 것에 주의하라 -> 파라미터에 보내준 정보는 친구에게 책을 빌려준 것과 같다. 함수가 자신의 코드에서 파라미터의 객체를 변경한다면 빌린 책을 손상하는 나쁜 친구와 같다. 오류를 초래할 수 있다.
- 해결책으로는 변경하기 전에 복사하라 (방어적 복사)

생각보다 내가 Clean Code 관련 레퍼런스를 많이 보지 않았음에도 다양한 클린 코드 원칙을 체득했었던 것 같다. 기본이라고 생각하는 내용이 꽤 많다.

- 널 확인 코드를 추가할 경우 코드 줄 수가 증가할 수 있지만, 예상을 벗어나는 코드 때문에 발생한 버그를 수정하는 데 드는 시간과 노력보단 낫다.
- 암묵적인 조건 분기를 조심하자: 예를 들어 열거값이 2개가 있을 때 하나가 참이고 하나가 거짓인 경우.. 나머지를 else 등의 분기로 처리하는 것. 그러면 새로운 열거값이 추가되었을 때 버그가 생길 수 있다.
- 해결법: 모든 경우를 처리하는 Switch문 사용




#### 요약 
- 다른 개발자가 작성하는 코드는 종종 우리가 작성하는 코드에 의존한다.
  - 다른 개발자가 우리 코드의 기능을 잘못 해석하거나 처리해야 하는 특수한 경우를 발견하지 못하면(명확하지 않은 세부조항), 우리가 작성한 코드에 기반한 그 코드에서 버그가 발생할 가능성이 크다.
  - 코드를 호출하는 쪽에서 예상한대로 동작하기 위한 좋은 방법 중 하나는 중요한 세부 사항이 코드 계약의 명백한 부분에 포함되도록 하는 것이다.
- 우리가 사용하는 코드에 대해 허술하게 가정을 하면 예상을 벗어나는 또 다른 결과를 볼 수 있다.
  - 예를 들어 열거형에 추가되는 새 값을 예상하지 못한 경우
  - 의존해서 사용 중인 코드가 가정을 벗어날 경우, 코드 컴파일을 중지하거나 테스트가 실패하도록 하는 것이 중요하다.
- 테스트만으로는 예측을 벗어나는 코드의 문제를 해결할 수 없다. 다른 개발자가 코드를 잘못 해석하면 테스트해야 할 시나리오도 잘못 이해할 수 있다.