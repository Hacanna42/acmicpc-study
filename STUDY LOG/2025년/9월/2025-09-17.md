#### TO DO
- [x] 구구의 Tomcat 구현 미션 (현재 4/4단계) ✅ 2025-09-17
	- [x] Http Request 리팩터링 ✅ 2025-09-13
	- [x] Http Response 리팩터링 ✅ 2025-09-14
	- [x] Controller 인터페이스 추가 ✅ 2025-09-14
	- [x] Thread pool 구현 ✅ 2025-09-17
- [x] Reflection API 학습 테스트 진행 ✅ 2025-09-17
- [x] Servlet과 Servlet Container 퀘스트 진행 ✅ 2025-09-17
- [ ] Grafana + Prometheus + Grafana Loki + Spring Actuator 셋업
- [ ] @MVC 구현 미션 (현재 1/3단계)
- [ ] 몽이 MVC 구현 미션 리뷰
- [ ] 취준


# 작업 내역

### **1. EC2 환경 준비**

- **인스턴스 생성**: photogather-monitoring (t4g.small)
- **도커 설치** 완료

### **2. Prometheus 설치 및 실행**

1. **이미지 다운로드**
2. **컨테이너 실행**

```jsx
sudo docker run --name prometheus -d -p 8080:9090 prom/prometheus
```

## 3. docker-compose 설정

```markdown
sudo docker compose ps -a

sudo docker compose up -d

sudo docker compose stop prometheus
```

### **3. Grafana 설치 및 실행**

1. **이미지 다운로드**
2. 컨테이너 실행

```jsx
sudo docker run -d -p 8080:3000 --name=grafana grafana/grafana-oss
```

### 4. Grafana + Prometheus 연동 및 대시보드 구성

Grafana와 Prometheus는 하나의 `docker-compose.yml` 에 정의되어 같은 컴포즈 프로젝트 내에 실행되어있다. 도커 컴포즈 프로젝트 내의 컨테이너들은 network 설정이 되어있고, 도커 DNS를 통해 서로에게 접근할 수 있다. 덕분에 Grafana와 Prometheus의 연동은 어렵지 않았다.

### 5. Grafana Loki 및 Promtail 구성

Prometheus는 Spring Actuator + Micrometer 구성으로 메트릭 정보를 얻는다.

Grafana Loki는 Promtail Agent를 통해 WAS의 로그 정보를 얻는다.

Grafana는 Prometheus(Data source)로 메트릭 정보를 얻고, Loki로 로그 정보를 얻는다.

최종적으로 Grafana GUI 에서 서버를 모두 모니터링 할 수 있다.

