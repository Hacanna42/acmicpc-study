오늘은 고민이 많은 날이다. 고민이 많은 만큼 인사이트도 많이 얻어가겠지.
이번에 블랙잭 미션 설계를 너무 실세계 위주로 한 것 같다. 사실 객체 설계와 실세계는 간극이 존재하기 마련인데.. 그 곳에서 트레이드 오프를 적절히 했다고 생각하지만 결국엔 GameBoard에 책임이 조금 집중된 것 같다.

카드가 점수 계산을 하는게 이상하다고 생각했다. 왜냐면 그러면 블랙잭 룰을 알고 있는 카드가 되기 때문에.. 사실 패키지가 블랙잭이기 때문에 카드가 블랙잭을 알고 있는건 그렇게 이상하진 않다. 하지만, 그냥 이 간극을 인정하고 카드가 점수 계산을 맡도록 했다면, 혹은 카드덱 자료구조를 만들고 그것을 합성받는 블랙잭 카드덱을 만들어서 그것이 점수를 계산할 수 있도록 했다면 조금 더 설계가 깔끔하고 설계가 분리됐을 것 같다.

- - -

구구가 말해줘서, 이런 고민들을 깊게 할 수 있게 됐다.

1. DTO를 왜 쓰는가?
2. MVC 패턴을 왜 굳이 ..?


DTO를 쓰는 이유가 합당했다고 생각했는데. 오버엔지니어링이라는 말에는 다소 동의한다. 사실 DTO에서 도메인 분리해서 raw하게 만드는 게 View에 있다고 안 될 이유는 없지 않나? 그것도 블랙잭 같은 작은 프로젝트에선 말이다.. 그래서 DTO에 신경쓸 시간에 책임 분리에 좀 더 신경을 쓰면서 공부를 해봐야겠다.

다음 고민은 MVC 패턴을 왜 쓰냐는거다. 안그래도 3월 5일에 다음과 같은 글을 남긴적이 있다; "왜 우리는 유행처럼, 갑자기 객체지향을 공부하다가 MVC패턴을 사용하는가?". MVC 패턴이 책임 분리, 관심사 분리에 효과적인 디자인 패턴이라고 생각했고 합리화했다. 그래서 블랙잭 미션에서도 MVC패턴을 습관처럼 사용했는데. 계속 이런 생각이 들었다. "이게 컨트롤러가 맞을까 ..?" "컨트롤러가 너무 블랙잭 흐름을 잘 알고 있다 .. 근데 어쩔 수 없다"

알 수 없는 이 위화감은 리뷰어의 "어쩔 수 없이 그렇게 된다." 라는 말에 일단락되었으나.. 사실 생각해보니 이 모든 위화감은, MVC 패턴을 적용해서 생긴 것이었다. MVC 패턴을 너무 일상적인 습관처럼 사용하니 MVC 패턴을 적용해서 이런 고민을 했다는 사실을 까맣게 잊고 있었다. 참 메타인지 메타인지 하지만 메타인지 참 어렵다.. 이것을 이제 발견하다니.


그래서, MVC 패턴을 이번 미션에 왜 써야되나? .. 필요 없는 것 아닌가?
MVC 패턴에 대해 조금만 더 공부해보고, 앞으로 MVC 패턴을 써야될지, 과감하게 안써도 될지 결정해야 할 것 같다.