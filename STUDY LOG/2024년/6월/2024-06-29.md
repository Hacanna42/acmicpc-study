# <span style="color:yellow">2024-06-29</span> 
### 클래스 5 달성
6월 13일부터 클래스 5를 시작했다. 클래스 5에서 주로 다루는 개념은: 투 포인터, 분리 집합, 위상 정렬, 최소 스패닝 트리, 기하학, 비트마스킹이다.
참고로 클래스 4에서는: 백트래킹, 트리, 최단 거리 알고리즘(데이크스트라 등), LIS, LCS, 배낭 문제였다.

6월 28일 클래스 5를 달성했다. 이제 차례대로 은장과 금장을 딸 예정! 플래티넘까지 정말 조금 남았다.

- - -

### 푼 문제들
- 다각형의 면적 (2166)
- 용액 (2467)\
- 트리와 쿼리 (15681)
- 수 나누기 게임 (27172)
- 최소 스패닝 트리 (1197)
- 도시 분할 계획 (1647)
- 스도쿠 (2239)
- 팰린드롬? (10942)
- RGB 거리 2 (17404)
- 사이클 게임 (20040)
- ACM Craft (1005)
- 두 배열의 합 (2143)
- 줄 세우기 (2252)
- 세 용액 (2473)

문제 평균 티어: **골드 4**


### 서론
13일부터 하루에 한 문제씩 풀었다. 블로그에 정리하는 것이 늦었다. 지금 위의 14문제를 모두 정리하고자 한다.
남는 시간에는 듀오 링고로 영어 공부도 하고 영상 편집도 조금 했다. Final Cut Pro를 배우는 중이다. Premiere Pro와 After Effects를 다룰 줄 알지만 Final Cut Pro로 iPad에서 편하게 컷편집을 하고 싶었다.

맥북을 정리할 겸 homebrew로 brewfile을 dump하고 필요한 패키지만 정리해서 맥북을 초기화하고 재설정했다.


- - -


### 다각형의 면적 (기하학)
```
2차원 평면상에 N(3 ≤ N ≤ 10,000)개의 점으로 이루어진 다각형이 있다. 이 다각형의 면적을 구하는 프로그램을 작성하시오.
```

간단명료한 문제지만 기하학을 잘 몰랐다.
이 문제는 신발끈의 공식을 **< 알면 >** 쉬운 문제다. 

![image](https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Polygon_area_formula_%28English%29.svg/440px-Polygon_area_formula_%28English%29.svg.png)

신발끈의 공식은 [좌표평면](https://ko.wikipedia.org/wiki/%EC%A2%8C%ED%91%9C%ED%8F%89%EB%A9%B4 "좌표평면") 상에서 꼭짓점의 좌표를 알 때 [다각형](https://ko.wikipedia.org/wiki/%EB%8B%A4%EA%B0%81%ED%98%95 "다각형")의 [면적](https://ko.wikipedia.org/wiki/%EB%A9%B4%EC%A0%81 "면적")을 구할 수 있는 방법이다
기본 원리는 꼭짓점 좌표간의 차이로 길이를 구하고 서로 곱하면 직사각형의 면적을 알 수 있는데, 직사각형의 면적에서 나머지 삼각형의 면적을 빼는 식의 계산을 누적해서 총 다각형의 면적을 구하는 방법이라고 생각하면 쉽다.
(사실, 나는 수학을 아직 잘 못하기도 하고 기하학엔 더더욱 관심이 없다 보니까 정확한 식의 유도 방법은 모르겠다. 하지만 기초 원리는 이것이라고 생각하기로 했다. 때로는 그냥 외우고 넘어가는 것이 좋을때도 있다.)

꼭지점의 좌표가 차례대로 (2, 4), (3, -8), (1, 2)라면 다음과 같이 행렬의 꼴로 나타낼 수 있다
![image](https://wikimedia.org/api/rest_v1/media/math/render/svg/6772190f3b828a737cd21c86521a3df97a2daba8)

행렬의 마지막에 첫번째 좌표를 다시 적어준다. 다각형의 닫힌 경로를 보장하기 위해서라는데.. 구체적인 건 모르겠지만 일단 그냥 외우기로 했다. 어느정도 다각형을 닫아주는 게 직관적이기도 하고..

![image](https://upload.wikimedia.org/wikipedia/commons/2/2f/ShoelaceMatrix2.GIF)

이런식으로 선으로 연결된 두 숫자를 곱해서 모두 더하고, 마찬가지로 y도 아래처럼 곱해서 모두 더한다.
![image](https://upload.wikimedia.org/wikipedia/commons/6/66/ShoelaceMatrix3.GIF)

그리고 각 더한 값의 차의 절댓값에 1/2 를 곱하면 다각형의 넓이가 된다.

생김새가 신발끈을 묶는 모양과 비슷해서(매우 합당한 이름이네 ...) 신발끈의 공식이라고 한다.

정말로 신발끈의 공식을 **< 안다 >** 면 쉽게 풀 수 있는 문제였다. 나는 몰랐었고, 따로 검색해서 알아봤다.
수학 공부를 더 열심히 해야겠다.


```cpp
// 다각형의 면적
// https://www.acmicpc.net/problem/2166
// 2024-06-13

/*
신발끈 공식(shoelace formula)가 필요하다
*/

#include <cmath>
#include <iomanip>
#include <iostream>
#include <vector>
using namespace std;

struct Point {
    double x;
    double y;
};

int main() {
    int N;
    cin >> N;
    vector<Point> points(N);
    for (int i = 0; i < N; ++i) {
        double x, y;
        cin >> x >> y;
        points[i] = {x, y};
    }

    // 신발끈의 공식
    double sum1 = 0, sum2 = 0;
    for (int i = 1; i < N; ++i) {
        sum1 += points[i - 1].x * points[i].y;
        sum2 += points[i - 1].y * points[i].x;
    }

    // 처음 좌표와 다시 묶기
    sum1 += points[0].y * points[N - 1].x;
    sum2 += points[0].x * points[N - 1].y;

    double answer = (sum1 - sum2) / 2;
    cout << fixed << setprecision(1) << abs(answer);
    return 0;
}
```



- - -



### 용액 (투 포인터)
```
KOI 부설 과학연구소에서는 많은 종류의 산성 용액과 알칼리성 용액을 보유하고 있다. 각 용액에는 그 용액의 특성을 나타내는 하나의 정수가 주어져있다. 산성 용액의 특성값은 1부터 1,000,000,000까지의 양의 정수로 나타내고, 알칼리성 용액의 특성값은 -1부터 -1,000,000,000까지의 음의 정수로 나타낸다.

같은 양의 두 용액을 혼합한 용액의 특성값은 혼합에 사용된 각 용액의 특성값의 합으로 정의한다. 이 연구소에서는 같은 양의 두 용액을 혼합하여 특성값이 0에 가장 가까운 용액을 만들려고 한다. 

예를 들어, 주어진 용액들의 특성값이 [-99, -2, -1, 4, 98]인 경우에는 특성값이 -99인 용액과 특성값이 98인 용액을 혼합하면 특성값이 -1인 용액을 만들 수 있고, 이 용액의 특성값이 0에 가장 가까운 용액이다. 참고로, 두 종류의 알칼리성 용액만으로나 혹은 두 종류의 산성 용액만으로 특성값이 0에 가장 가까운 혼합 용액을 만드는 경우도 존재할 수 있다.

산성 용액과 알칼리성 용액의 특성값이 정렬된 순서로 주어졌을 때, 이 중 두 개의 서로 다른 용액을 혼합하여 특성값이 0에 가장 가까운 용액을 만들어내는 두 용액을 찾는 프로그램을 작성하시오.
```

기본적인 투 포인터 문제다.
주어지는 용액의 특성값을 오름차순으로 정렬한 다음에, 인덱스를 가리키는 포인터 두개를 선언하고 인덱스가 가리키는 요소의 값을 합한 뒤(용액을 섞는다) 값을 보고 인덱스를 적절히 조절하면서 최선의 값을 찾아나가면 된다!

발상이 어렵지 않은 투 포인터 문제였다.
abs를 적용하지 않은 용액값의 합이 양수면 좀 더 낮은 수치의 산성 용액을 사용해야
함을, 음수면 좀 더 낮은 수치의 알칼리성 용액을 사용해야 함을 의미한다.


```cpp
// 백준: 용액
// https://www.acmicpc.net/problem/2467
// 2024-06-13

/*
투 포인터 접근법: 두 인덱스를 적절히 바꿔가며 탐색
abs를 적용하지 않은 용액값의 합이 양수면 좀 더 낮은 수치의 산성 용액을 사용해야 함을, 음수면 좀 더 낮은 수치의 알칼리성 용액을 사용해야 함을 의미한다.
*/
#include <cmath>
#include <iostream>
#include <vector>
using namespace std;

int main() {
    int N;
    cin >> N;
    vector<int> liquid(N);
    for (int i = 0; i < N; ++i) {
        cin >> liquid[i];
    }

    int i = 0, j = N - 1; // 인덱스
    int ans_i = i, ans_j = j;
    int known_small_value = abs(liquid[i] + liquid[j]);
    while (i < j) {
        int cur_value = liquid[i] + liquid[j];
        if (abs(cur_value) < known_small_value) {
            ans_i = i;
            ans_j = j;
            known_small_value = abs(cur_value);
        }
        if (cur_value > 0)
            --j;
        else
            ++i;
    }

    cout << liquid[ans_i] << " " << liquid[ans_j];
    return 0;
}
```



- - -


### 트리와 쿼리 (DP, 그래프, 트리)
```
간선에 가중치와 방향성이 없는 임의의 루트 있는 트리가 주어졌을 때
정점 U를 루트로 하는 서브트리에 속한 정점의 수를 출력하는 문제.
```

