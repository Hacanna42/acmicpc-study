구현을 시작하기 전에, 어제의 회고와 <책 오브젝트 정리>를 읽고 시작하자.

협력을 위해 어떤 책임이 필요한지 이해하는 것이 1순위다.
1. 필요한 메시지를 생각하자
2. 메시지를 책임 질 역할을 생각하자



협력에 참여하는 후보가 여러 종류의 객체에 의해 수행 될 필요가 있다면 그것은 역할이지만, 단지 한 종류의 객체라면 그것은 단순히 객체로 간주한다.


처음부터 너무 구체적인 설계는 하지 않는다. 큰 그림을 먼저 그려본다. 추상화에 의존한다. 중요한 것은 책임이다.





- - -


4주차 과제가 시작됐다. 상당히 복잡해 보인다.
로또 당첨 번호와 보너스 번호가 겹치는게 예외라니 ......................... 몰랐다 ...
로또를 평소에 안해봐서 ㅜㅜㅜ



#### 공통 피드백 정리
1. 함수 길이 10라인 제한 (기능 분리를 위해)
2. 예외 상황 철저하게 고려
3. 비즈니스 로직과 UI 분리
4. 연관성이 있는 상수는 static final 대신 enum을 활용
5. 불변성을 추구한다. final 키워드 사용
6. 캡슐화
7. 객체는 객체답게. 객체는 데이터 운송 수단이 아니다, 메시지를 던져 일을 하게 만들자
8. 필드에 중복이 있거나 불필요한 필드가 없는지 확인하고, 이를 최소화한다. 필드가 많아지면 복잡해진다.
9. 성공 케이스뿐만 아니라 예외 케이스도 테스트한다. (경계값)
10. 테스트코드도 코드기에 가독성에 신경쓰자.
11. 테스트를 위해 구현 코드를 변경하지 않는다.
12. private 함수를 테스트 하고 싶다면 클래스(객체) 분리를 고려한다.


4주차에 TDD 도전 ?! (고민중)


https://tecoble.techcourse.co.kr/post/2020-04-28-ask-instead-of-getter/
https://drive.google.com/file/d/1LqABX_kG5GHRMd1iD_gm8dSJjVpuxRdz/view


코드 리뷰어를 구하기 힘들다 ㅎㅎ
4주차 과제는 요구 사항이 꽤 복잡해서 설계를 잘 해야할 것 같다. 

오늘 목표는 일단 큰 설계의 틀이라도 잡는 것




- - -


# java-convenience-store-precourse  

1. 상품의 정보(상품명과 가격)을 가지고 있는 역할이 있어야 한다.
2. 상품별 재고 정보를 가지고 있는 역할이 있어야 한다.
3. 

먼저, 어떤 책임들이 필요할 지 생각해보자.  
1. 상품명과 가격을 가지고 있어야 함  
2. 멤버쉽 할인을 받아야 함.  
3. 프로모션 할인을 받아야 함
4.  흠 ... 



뭔가 설계가 .. 전체적인 틀은 잡히는데 구체적인 것들을 지금 정의를 못 내리겠다.... 어디서부터 시작해야 할까 싶고 만약 첫 시작이 잘못되면 처음부터 다 갈아엎어야 할텐데..! 어렵다.

TDD를 한번 해볼까? TDD를 하면 그래도 다음의 목표가 계속 있으니까 쉽게 할 수 있을 것 같다.

구매해라 -> 상품  
  
- 상품  
  -  상품명  
  -  가격  
  
- 매장 재고  
  - 상품들  
  - 각 상품의 재고 수량을 고려하여 결제 가능 여부를 확인한다.  
  - 고객이 상품을 구매할 때마다, 결제된 수량만큼 해당 상품의 재고에서 차감하여 수량을 관리한다.  
  
  
- 프로모션  
  - 오늘 날짜가 프로모션 기간 내에 포함된 경우에만 할인을 적용한다.  
  - 프로모션은 N개 구매 시 1개 무료 증정(Buy N Get 1 Free)의 형태로 진행된다.  
  - 1+1 또는 2+1 프로모션이 각각 지정된 상품에 적용되며, 동일 상품에 여러 프로모션이 적용되지 않는다.  
  - 프로모션 혜택은 프로모션 재고 내에서만 적용할 수 있다.  
  - 프로모션 기간 중이라면 프로모션 재고를 우선적으로 차감하며, 프로모션 재고가 부족할 경우에는 일반 재고를 사용한다.  
  - 프로모션 기간 중이라면 프로모션 재고를 우선적으로 차감하며, 프로모션 재고가 부족할 경우에는 일반 재고를 사용한다.  
  - 프로모션 적용이 가능한 상품에 대해 고객이 해당 수량보다 적게 가져온 경우, 필요한 수량을 추가로 가져오면 혜택을 받을 수 있음을 안내한다.  
  - 프로모션 재고가 부족하여 일부 수량을 프로모션 혜택 없이 결제해야 하는 경우, 일부 수량에 대해 정가로 결제하게 됨을 안내한다.  
  
  
- 멤버쉽  
  - 멤버십 회원은 프로모션 미적용 금액의 30%를 할인받는다.    
  - 프로모션 적용 후 남은 금액에 대해 멤버십 할인을 적용한다.    
  -  멤버십 할인의 최대 한도는 8,000원이다.  
  
- 계산대  
  - 입력한 상품의 가격과 수량 기반으로 금액 계산  
  
  
- 영수증  
  - 구매 내역과 산출한 금액 정보를 영수증으로 출력한다.  
  - 영수증 출력 후 추가 구매를 진행할지 또는 종료할지를 선택할 수 있다.  
  - 영수증은 고객의 구매 내역과 할인을 요약하여 출력한다.  
  
- 입출력  
구현에 필요한 상품 목록과 행사 목록을 파일 입출력을 통해 불러온다.    
src/main/resources/products.md과 src/main/resources/promotions.md 파일을 이용한다.    
두 파일 모두 내용의 형식을 유지한다면 값은 수정할 수 있다.    
구매할 상품과 수량을 입력 받는다. 상품명, 수량은 하이픈(-)으로, 개별 상품은 대괄호([])로 묶어 쉼표(,)로 구분한다.