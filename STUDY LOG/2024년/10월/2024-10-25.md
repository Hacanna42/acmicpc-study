# <span style="color:yellow">2023-10-24</span>
리팩토링 시작.

#### 의문점
1. Application.main()에 있는 코드들은 컨트롤러로 가야하는가?
2. 패키지 구조에 대해서: MVC 패턴이 다 없는 car를 굳이 패키지로 분리해야하나
3. .getCars() 너무 알몸이다. 저렇게 넘기는것보다, 각 상태에 대해 문자열로 넘기는 건 어떤지?
4. RacingGameController가 RacingGame에 상태를 보고 조작하는게 이상하다
5. MoveStrategy 인터페이스는 오버엔지니어링인가? 내 결론은 테스트를 위한 코드를 작성하다보니 이렇게 됐다. 이다


흠 ,,, 1번은 일단 아닌 것 같다. Application.main()의 코드를 컨트롤러로 옮기면 모델을 생성할 수 있는 정보가 컨트롤러에서 생기기 때문에, 모델 의존성을 주입받는 게 아니라 new 키워드로 직접 생성할 수밖에 없다. 이건 너무 강한 결합을 자아내는 것 같다.


#### 결론적으로 리팩토링 할 것
1. getCars() 메서드를 없애고 .getStatus() 로 필요한 정보만 넘기기
2. RacingGameController가 로직에 일부분 관여하는 점 (RacingGame의 상태를 보고 조작한다)를 수정하기
= RacingGame 자체적으로 Play 하는 로직이 있어야 될 것 같다. 문제는 그러면 실시간 status 출력을 못한다..
컨트롤러는 그러면 단순히 model과 view를 중개하는 것보다는  그저 RacingGame.play() 를 하고 Output.print() 를 할 뿐인 단 두개의 코드가 된다.. 이것은 또 컨트롤러 대로 너무 관여를 안하는 것 아닌가..?

- - -

#### MVC 원칙 (테코톡 제리의 MVC패턴 중 ..)
1. Model은 Controller와 View에 의존하지 않아야 한다.
2. VIew은 Model에만 의존해야 한다. Controller와는 의존하면 안된다.
3. View는 Model에게 사용자마자 다르게 보여주어야 하는 데이터에 대해서만 받아야 한다.
4. Controller에는 Model과 View에 의존해도 된다. (해야 한다)
5. View가 Model로부터 데이터를 받을 때, 반드시 Controller를 통해서만 받아야 한다.