# <span style="color:yellow">2023-12-15</span>

- Flask에서 Celery로 비동기 실행하는 법을 배웠다. 브로커 Redis에 대해서도 배웠다.
- 편지가 작성되면, Flask API의 OpenAI로 AI에게 호출을 보내고 응답을 Spring API로 보내서 DB에 저장한다.

이 업데이트는 오늘 완료했고, 업데이트 이전에 분석을 받지 못한 편지에 대해서는 단순 작업용 mysql_ai_authtool.py를 작성해서 자동으로 분석을 돌렸다.

Celery를 사용하고 싶었지만, 복잡하기도 하고 우리의 API는 단순 연산이 아니라 I/O 기반의 대기라서 gunicorn workers를 많이 돌려도 상관이 없을 것 같았다. 따라서, gunicorn workers를 그냥 많이 (10개 이상)  띄우기로 했다. API의 호출 제한도 1분에 3500번이고, 130만원까지 사용 가능하기에 사이트를 운영하는데에 큰 문제는 없을 것이라고 판단했다.

편지가 삭제되면, 반영된 점수도 취소할 것인가에 대해 회의가 있을 예정이다.
오늘은 또 프론트에서 산타 프로젝트의 선함 점수와 악함 점수를 보여주는 그래프 요소를 추가 할 생각이다. 백엔드도 오래 걸리지만 디자인도 오래 걸리는 것 같다.

이제 백엔드에서 남은 것은, 편지함 ID에 대한 AI_RESPONSE_INFO를 불러올 수 있도록 API를 작성하는 것이다.
프론트에서 남은 것은, 편지함 GET과 같이 보내지는 점수 정보를 그래프에 적용하는 것이다.

지금이 배포 이후 서비스의 향후 성과에 가장 큰 영향을 미치는 분기점이라고 생각한다. 내가 지금 프로젝트를 가만히 놔둔다면 이대로 서비스는 묻힐 것이고, 구글 에드센스도 성공적으로 통과되고. 오늘의 업데이트로 유저 흥미도 이끌면서 적극적인 홍보 마케팅을 한다면 성공할 수 있을 것이라 생각한다.


# 오늘의 백준
